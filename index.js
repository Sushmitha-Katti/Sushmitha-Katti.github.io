reports = [{'whatwhere': [{'id': 'WhatWhereKeywordCloud', 'value': 'WhatWhereKeywordCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'WhatWhereCountryMap', 'value': 'WhatWhereCountryMap', 'class': 'checkinput', 'height': '130'}, {'id': 'OnWhichMediaIsTheDiscussion', 'value': 'OnWhichMediaIsTheDiscussion', 'class': 'checkinput', 'height': '130'}, {'id': 'WhatWhereGenderDistribution', 'value': 'WhatWhereGenderDistribution', 'class': 'checkinput', 'height': '130'}, {'id': 'WhatWhereSentimentDistribution', 'value': 'WhatWhereSentimentDistribution', 'class': 'checkinput', 'height': '130'}, {'id': 'WhatWhereLanguageDistribution', 'value': 'WhatWhereLanguageDistribution', 'class': 'checkinput', 'height': '130'}]}, {'sentiment': [{'id': 'PositiveSentimentCloud', 'value': 'PositiveSentimentCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'NegativeSentimentCloud', 'value': 'NegativeSentimentCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'NeutralSentimentCloud', 'value': 'NeutralSentimentCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'SentimentBreakup', 'value': 'SentimentBreakup', 'class': 'checkinput', 'height': '130'}, {'id': 'MediaWiseSentimentBreakup', 'value': 'MediaWiseSentimentBreakup', 'class': 'checkinput', 'height': '130'}]}, {'volume': [{'id': 'TotalVolume', 'value': 'TotalVolume', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterVolume', 'value': 'TwitterVolume', 'class': 'checkinput', 'height': '130'}]}, {'twitter': [{'id': 'TwitterProfileTable', 'value': 'TwitterProfileTable', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterDailyEngagement', 'value': 'TwitterDailyEngagement', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterEngagementScore', 'value': 'TwitterEngagementScore', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterShareOfEngagement', 'value': 'TwitterShareOfEngagement', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterEngagementComparision', 'value': 'TwitterEngagementComparision', 'class': 'checkinput', 'height': '130'}, {'id': 'BrandTweetsHourRange', 'value': 'BrandTweetsHourRange', 'class': 'checkinput', 'height': '130'}, {'id': 'BrandTweetsEngagementHour', 'value': 'BrandTweetsEngagementHour', 'class': 'checkinput', 'height': '130'}, {'id': 'BrandTweetsEngagementDay', 'value': 'BrandTweetsEngagementDay', 'class': 'checkinput', 'height': '130'}, {'id': 'BrandTweetsEngagementBasedOnDayHour', 'value': 'BrandTweetsEngagementBasedOnDayHour', 'class': 'checkinput', 'height': '130'}, {'id': 'AverageTweetsPerDay', 'value': 'AverageTweetsPerDay', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterActivityComparision', 'value': 'TwitterActivityComparision', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterResponseRate', 'value': 'TwitterResponseRate', 'class': 'checkinput', 'height': '130'}, {'id': 'MostEngagingPosts', 'value': 'MostEngagingPosts', 'class': 'checkinput', 'height': '130'}, {'id': 'LeastEngagingPosts', 'value': 'LeastEngagingPosts', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterMostEngagingPostCards', 'value': 'TwitterMostEngagingPostCards', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterLeastEngaingPostCards', 'value': 'TwitterLeastEngaingPostCards', 'class': 'checkinput', 'height': '130'}]}, {'twitter_influencers': [{'id': 'InfluencersMostEngagedBySentiment', 'value': 'InfluencersMostEngagedBySentiment', 'class': 'checkinput', 'height': '130'}, {'id': 'InfluencersMostEngaged', 'value': 'InfluencersMostEngaged', 'class': 'checkinput', 'height': '130'}, {'id': 'InfluencersMostEngagedKewordCloud', 'value': 'InfluencersMostEngagedKewordCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'MostEngagedUserDetails', 'value': 'MostEngagedUserDetails', 'class': 'checkinput', 'height': '130'}, {'id': 'InfluencersMostValuable', 'value': 'InfluencersMostValuable', 'class': 'checkinput', 'height': '130'}, {'id': 'MostValuableTweetCount', 'value': 'MostValuableTweetCount', 'class': 'checkinput', 'height': '130'}, {'id': 'MostValuableUserDetails', 'value': 'MostValuableUserDetails', 'class': 'checkinput', 'height': '130'}]}, {'impressions': [{'id': 'TwitterTotalImpressions', 'value': 'TwitterTotalImpressions', 'class': 'checkinput', 'height': '130'}, {'id': 'OwnedTwitterImpression', 'value': 'OwnedTwitterImpression', 'class': 'checkinput', 'height': '130'}, {'id': 'EarnedTwitterImpressions', 'value': 'EarnedTwitterImpressions', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterTotalReach', 'value': 'TwitterTotalReach', 'class': 'checkinput', 'height': '130'}, {'id': 'OwnedTwitterDailyImpression', 'value': 'OwnedTwitterDailyImpression', 'class': 'checkinput', 'height': '130'}, {'id': 'OwnedTwitterReach', 'value': 'OwnedTwitterReach', 'class': 'checkinput', 'height': '130'}, {'id': 'EarnedTwitterReach', 'value': 'EarnedTwitterReach', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterEarnedDailyImpressions', 'value': 'TwitterEarnedDailyImpressions', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterDailyImpressions', 'value': 'TwitterDailyImpressions', 'class': 'checkinput', 'height': '130'}]}, {'twitter_hashtag': [{'id': 'TwitterBrandHashtags', 'value': 'TwitterBrandHashtags', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterOthersHashtags', 'value': 'TwitterOthersHashtags', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterBrandHashtagsReach', 'value': 'TwitterBrandHashtagsReach', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterOthersHashtagsReach', 'value': 'TwitterOthersHashtagsReach', 'class': 'checkinput', 'height': '130'}]}, {'twittercloud': [{'id': 'TwitterOwnedChatterCloud', 'value': 'TwitterOwnedChatterCloud', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterEarnedChatterCloud', 'value': 'TwitterEarnedChatterCloud', 'class': 'checkinput', 'height': '130'}]}, {'fansreport': [{'id': 'FollowersCountDailyTrend', 'value': 'FollowersCountDailyTrend', 'class': 'checkinput', 'height': '130'}, {'id': 'TwitterFollowersIncrement', 'value': 'TwitterFollowersIncrement', 'class': 'checkinput', 'height': '130'}]}];

$(document).ready(function(){
    var main = document.getElementById("acordian");

   reports.map(graphs=>

    {
        
    
      let collapse = document.createElement("div")
      collapse.className ="collapse-button";
      
      collapse.setAttribute( "data-toggle","collapse" )
      collapse.setAttribute( "data-target","#collapse"+Object.keys(graphs)[0] )
      let reportText = document.createTextNode(Object.keys(graphs)[0])
     
      let card = document.createElement("div")
      card.className = "collapse"
      card.id = "collapse"+Object.keys(graphs)[0]
      collapse.innerHTML = '<i class=" fa fa-plus" aria-hidden="true"></i>';
     
      collapse.appendChild(reportText)
      main.appendChild(collapse)
      main.appendChild(card)

        Object.values(graphs)[0].map(graph =>

            {
                
            let check = document.createElement("input")
            check.className = graph.class
            check.id = graph.id
            check.type = "checkbox"
            check.name = "check"
            check.value = graph.value
            check.setAttribute("style", "margin:"+5+"px ;");
            check.addEventListener("change", checkfunc);
            let label = document.createElement("label")
            let text = document.createTextNode(graph.value)
            let breaktag = document.createElement("br")
            label.appendChild(text)
            card.appendChild(check)
            card.appendChild(label)
            card.appendChild(breaktag)
        
        })
  });

orders = []
function checkfunc(e){


     // ---------------if Checkbox is checked add the chart-----------------------------

    if(e.target.checked === true)
    {

   
    let main = document.getElementById('sortable')
    let colDiv = document.createElement("div")
    colDiv.className = "col-md-3 float-left"+" chart"
    colDiv.id = "chart"+e.target.id

    let slidediv = document.createElement("img")
    slidediv.src = "customreportimages/"+e.target.id+".png"
    slidediv.className = "slide"
    slidediv.id = "slide-chart"+e.target.id
    colDiv.style.height = 130+"px"
    // //colDiv.style.width = o.width+"px"
    slidediv.style.height = (130-30)+"px"
    // slidediv.style.width = (o.width-30)+"px"
    // let text = document.createTextNode(e.target.value)
    // let htag = document.createElement('h1')
    // htag.appendChild(text)
    // slidediv.appendChild(htag)
    colDiv.appendChild(slidediv)
    
    main.appendChild(colDiv)
    applyresize($(".chart"));
    }

      // --------------------Else remove the chart-----------------------------------------
  
    else{

        let item = document.getElementById("chart"+e.target.id)
        item.parentNode.removeChild(item)
    }

    }

  





})
 function applyresize(element){
element.resizable({
    start:function(event,ui){
      
    
    },
    
    resize:function(event,ui){
        var a = ui.originalElement.outerWidth()-ui.originalElement.width()
        var b = ui.size.width+a
        var unit = $("#main-column").width()
        var divv = parseInt((b/unit)*12,);
        var newvalue = "col-md-"+divv;
        var old = ui.originalElement.context.className
        ui.element.context.className = old.replace(old.split(" ")[0],newvalue)
        // console.log(newvalue)
        


    },
    stop:function(event,ui){
        var oldheight = parseInt($("#slide-"+ui.element.context.id).css("height").replace("px", ""))
        var hofparent = parseInt(ui.originalSize.height)
        var newhofparent = parseInt(ui.size.height)
        var absolute = Math.ceil(newhofparent/130)
        
        var finalnewheight = absolute*130 +(absolute-1)*10*2
        // console.log("adsfdf",hofparent,newhofparent,absolute,finalnewheight)
        var newheight = finalnewheight - 30
        // console.log(newheight,oldheight,hofparent,newhofparent )

         $("#slide-"+ui.element.context.id).css("height", newheight+"px")
         $("#"+ui.element.context.id).css("height", finalnewheight+"px")

    }

})};
