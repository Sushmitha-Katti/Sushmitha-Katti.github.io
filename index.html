


<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Sortable - Display as grid</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src = "./index.js"></script>
  <style>
    .container {
        text-align: center;
        
    }
    .chart{
        border: 1px solid black;
        margin: 10px;
    }
    
    .slide{
        
        /* height: 100px; */
        border: 1px solid #dadada;
        margin:16px;
        text-align: center;
        padding: 25px;
        background: linear-gradient(to bottom, #9999ff 0%, #ff99cc 100%);
        
    }
    .btn-save{
        width:100px;
        margin:auto;
    }
    #save{
        padding:0.5rem 1rem;
    }
    .collapse-button{

        font-weight: bolder;
        border: 1px solid black;
        background-color: #faf6f6;
        cursor: pointer;

    }
    #acordian{
        border-right: 3px solid black;
        height: 100vh;
        overflow: auto;
    }

  </style>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"/>
  
  
  <script>
  $( function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
  } );

  </script>
</head>
<body>
<div class = "container"  >
    
    <div class = "row">
        <div class = "col-md-6" id = "acordian"  >

        </div>
        <div class = "col-md-6" id = "main-column">
                <div class = "row d-block charts"  id = "sortable"></div>     
        </div>
        
        
</div>
<br>
<br>
<div class = "row btn-save">
    <button id = "save" class = "btn btn-primary" onclick="savefn()">Save</button>
</div>
<div class = "row" id = "displayids">

</div>
</div>

<script>
//---------------------------Function to Save--------------------------------------------------------------------------- 
   function savefn() {
    var ids1 = $('.charts .chart').map(function(){
    
    return {id: this.id, class : this.className.split(" ")[0]+this.className.split(" ")[1],value: this.textContent,height:this.style.height}
    

    
}).get()
let textlist = ""

ids1.map(id => textlist=textlist+"  ,  "+id.id)
console.log(ids1)
document.getElementById('displaytext').innerHTML = textlist

}

//---------------------------------------Whole Elements organisation---------------------------------------


//------------------------------------------Ids Extraction----------------------------------------------------

 var ids = $('.charts .chart').map(function(){
    return this.id
}).get()

//--------------------------------------Display IDS--------------------------------------------------------

    let displayEle = document.getElementById('displayids')
    let divElement = document.createElement('h2');
    divElement.id = "displaytext"
    let idlist = ""
    ids.map(id => idlist=idlist+"  ,  "+id)
    let text = document.createTextNode(idlist);
    divElement.appendChild(text)
    displayEle.appendChild(divElement)



//-------------------------------- Resizable  Function---------------------------------------
// $(document).ready(function(){
    
// });

// --------------------------------------Reset the changes on Double Click On the Element-----------------------------------------------------
$(".chart").dblclick(function(event) { 
                if(event.target.className.split(" ").indexOf("chart")>=0){
                id = event.target.id
               
                o = order.filter(o => o.id == id )
               
                $("#"+id).css("height",o[0].height+"px")
                // $("#"+id).css("width",o[0].width+"px")
                var oldclass = event.target.className
                // console.log(oldclass)
                event.target.className = oldclass.replace(oldclass.split(" ")[0],o[0].class.split(" ")[0])
                $("#slide-"+id).css("height",(o[0].height-30)+"px")
               
                }
                
            }); 

 
</script>

    
 
</body>
</html>

