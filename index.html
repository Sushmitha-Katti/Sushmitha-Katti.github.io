


<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Sortable - Display as grid</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <style>
    .container {
        text-align: center;
        
    }
    .slide{
        
        height:100px;
        border: 1px solid #dadada;
        margin:1rem;
        text-align: center;
        padding: 25px;
        background: linear-gradient(to bottom, #9999ff 0%, #ff99cc 100%);
    }
    .btn-save{
        width:100px;
        margin:auto;
    }
    #save{
        padding:0.5rem 1rem;
    }
  </style>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
  } );
  </script>
</head>
<body>
<div class = "container"  >
    <div class = "row">
        <div class = "col-md-6">
                <div class = " row  charts"  id = "sortable"></div>
                
                <div class = "row btn-save">
                    <button id = "save" class = "btn btn-primary" onclick="savefn()">Save</button>
                </div>
                <div class = "row" id = "displayids">
                
                </div>
        </div>
        <div class = "col-md-6">
            <div class="form-group">
                <h1> Enter here to change column size</h1>
                <select class="custom-select " id = "ele-select" onchange = "chooseCol()" required>
                  <option value="">Open this select menu</option>

                </select>
                <div class="invalid-feedback">Select Id</div>
              </div>
            <div class="form-group">
                <label>Enter No Of columns(Between 1 and 12)</label>
                <input type="number" class="form-control" id="col-chooser" min = "1" max = "12">
                <div class="invalid-feedback">enter value between 1 and 12</div>
            </div>
            <button class="btn btn-primary" type="submit" onclick="changeCol()">Change</button>
        </div>
    </div>
</div>

<script>
//---------------------------Function to Save--------------------------------------------------------------------------- 
   function savefn() {
    var ids1 = $('.charts .chart').map(function(){
    return this.id
    

    
}).get()
let textlist = ""

ids1.map(id => textlist=textlist+"  ,  "+id)

document.getElementById('displaytext').innerHTML = textlist

}

//---------------------------------------Whole Elements organisation---------------------------------------
order = [{id : " one", value:1}, {id :"two" ,value :2}, {id :"three",value :3}, {id:"four",value:4}, {id:"five",value :5},{id:"six",value:6}, {id: "seven",value:7}, {id:"eight",value:8}, {id:"nine",value:9}, {id: "ten",value:10}, {id:"eleven",value:11}, {id:"twelve",value:12}, {id:"thirteen",value:13}, {id:"fourteen",value:14}, {id:"fifteen",value:"15"}, {id:"sixteen",value:"16"}];
let main = document.getElementById('sortable')

// let colDiv = document.createElement("div")
// colDiv.className = "col-md-3 chart"


order.map(o => {
    let colDiv = document.createElement("div")
    colDiv.className = "col-md-3 chart"
    colDiv.id = o.id
    // val.appendChild(colDive);
    let slidediv = document.createElement("div")
    slidediv.className = "slide"
    let text = document.createTextNode(o.value)
    let htag = document.createElement('h1')
    htag.appendChild(text)
    slidediv.appendChild(htag)
    colDiv.appendChild(slidediv)
    main.appendChild(colDiv)
    
    


})

//------------------------------------------Ids Extraction----------------------------------------------------

 var ids = $('.charts .chart').map(function(){
    return this.id
}).get()

//--------------------------------------Display IDS--------------------------------------------------------

    let displayEle = document.getElementById('displayids')
    let divElement = document.createElement('h2');
    divElement.id = "displaytext"
    let idlist = ""
    ids.map(id => idlist=idlist+"  ,  "+id)
    let text = document.createTextNode(idlist);
    divElement.appendChild(text)
    displayEle.appendChild(divElement)

//---------------------------------------Change ClassName------------------------------------------------------

    let selectEle = document.getElementById("ele-select") ;
    
    ids.map(id => {

    let optionEle = document.createElement('option')
    optionEle.value = id;
    
    let text = document.createTextNode(id);
    optionEle.appendChild(text);
    selectEle.appendChild(optionEle);

    })

//--------------------------------------------Choose Element and Insert the default column number to input---------------------------------------------------------
function chooseCol(){
  var selectItem = document.getElementById("ele-select").value;
//   var classNames = $('.charts .chart').map(function(){
//     return this.className.split(" ")[0]
// }).get()
var Item = document.getElementById(selectItem).className.split(" ")[0]

document.getElementById("col-chooser").value = parseInt(Item.split("-").slice(-1)[0])
}

//----------------------------------------------Channge Col size After Submit-------------------------------------

function changeCol(){
    var selectItem = document.getElementById("ele-select").value;
    var newClass = "col-md-"+document.getElementById("col-chooser").value;
    var OldClass = document.getElementById(selectItem).className;
    // console.log(OldClass,newClass)
    document.getElementById(selectItem).className = OldClass.replace(OldClass.split(" ")[0],newClass)
}


 
</script>
 
</body>
</html>